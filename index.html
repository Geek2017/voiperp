<!DOCTYPE html>
<html lang="en" ng-app="fvs" class="no-js">
<style>
  .aligncenter {
    text-align: center;
  }
</style>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="Cuba admin is super flexible, powerful, clean &amp; modern responsive bootstrap 4 admin template with unlimited possibilities." />
  <meta name="keywords"
    content="admin template, Cuba admin template, dashboard template, flat admin template, responsive admin template, web app" />
  <meta name="author" content="pixelstrap" />
  <link rel="icon" href="./assets/images/favicon.png" type="image/x-icon" />
  <link rel="shortcut icon" href="./assets/images/favicon.png" type="image/x-icon" />
  <title>ZumeCall</title>
  <!-- Google font-->
  <link href="https://fonts.googleapis.com/css?family=Rubik:400,400i,500,500i,700,700i&amp;display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i,900&amp;display=swap"
    rel="stylesheet" />
  <!-- Font Awesome-->
  <link rel="stylesheet" type="text/css" href="./assets/css/fontawesome.css" />
  <!-- ico-font-->
  <link rel="stylesheet" type="text/css" href="./assets/css/icofont.css" />
  <!-- Themify icon-->
  <link rel="stylesheet" type="text/css" href="./assets/css/themify.css" />
  <!-- Flag icon-->
  <link rel="stylesheet" type="text/css" href="./assets/css/flag-icon.css" />
  <!-- Feather icon-->
  <link rel="stylesheet" type="text/css" href="./assets/css/feather-icon.css" />

  <!-- Plugins css start-->
  <!-- Plugins css Ends-->

  <!-- Plugins css start-->
  <link rel="stylesheet" type="text/css" href="./assets/css/animate.css" />
  <link rel="stylesheet" type="text/css" href="./assets/css/chartist.css" />
  <link rel="stylesheet" type="text/css" href="./assets/css/date-picker.css" />
  <!-- Plugins css Ends-->
  <!-- Bootstrap css-->
  <link rel="stylesheet" type="text/css" href="./assets/css/bootstrap.css" />
  <!-- App css-->
  <link rel="stylesheet" type="text/css" href="./assets/css/style.css" />
  <link id="color" rel="stylesheet" href="./assets/css/color-1.css" media="screen" />
  <!-- Responsive css-->
  <link rel="stylesheet" type="text/css" href="./assets/css/responsive.css" />

  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2.3.2/dist/email.min.js"></script>
  <script type="text/javascript">
    (function () {
      emailjs.init("user_XyeMDfGDEOxxEmmgFlxqJ");
    })();
  </script>
</head>

<body class="dark-only">
  <!-- tap on top starts-->
  <div class="tap-top"><i data-feather="chevrons-up"></i></div>
  <!-- tap on tap ends-->
  <!-- page-wrapper Start-->
  <div class="page-wrapper compact-wrapper" id="pageWrapper">
    <!-- Page Header Start-->
    <div class="page-main-header">
      <div class="main-header-right row m-0">
        <form class="form-inline search-full" action="#" method="get">
          <div class="form-group w-100">
            <div class="Typeahead Typeahead--twitterUsers">
              <div class="u-posRelative">
                <input class="demo-input Typeahead-input form-control-plaintext w-100" type="text"
                  placeholder="Search Cuba .." name="q" title="" autofocus />
                <div class="spinner-border Typeahead-spinner" role="status">
                  <span class="sr-only">Loading...</span>
                </div>
                <i class="close-search" data-feather="x"></i>
              </div>
              <div class="Typeahead-menu"></div>
            </div>
          </div>
        </form>
        <div class="main-header-left">
          <div class="logo-wrapper">
            <a href="index.html"><img class="img-fluid" src="./assets/images/logo/logo.png" alt="" /></a>
          </div>
          <div class="toggle-sidebar">
            <i class="status_toggle middle" data-feather="grid" id="sidebar-toggle">
            </i>
          </div>
        </div>
        <div class="left-menu-header col horizontal-wrapper pl-0">
          <ul class="horizontal-menu" style="display: none">
            <li class="mega-menu">
              <a class="" href="#"><span></span></a>
              <div class="mega-menu-container menu-content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col mega-box">
                      <div class="mobile-title d-none">
                        <h5>Mega menu</h5>
                        <i data-feather="x"></i>
                      </div>
                      <div class="link-section icon">
                        <div>
                          <h6>Error Page</h6>
                        </div>
                        <ul>
                          <li><a href="error-400.html">Error page 400</a></li>
                          <li><a href="error-401.html">Error page 401</a></li>
                          <li><a href="error-403.html">Error page 403</a></li>
                          <li><a href="error-404.html">Error page 404</a></li>
                          <li><a href="error-500.html">Error page 500</a></li>
                          <li><a href="error-503.html">Error page 503</a></li>
                        </ul>
                      </div>
                    </div>
                    <div class="col mega-box">
                      <div class="link-section doted">
                        <div>
                          <h6>Authentication</h6>
                        </div>
                        <ul>
                          <li><a href="login.html">Login Simple</a></li>
                          <li>
                            <a href="login-image.html">Login Bg Image</a>
                          </li>
                          <li>
                            <a href="login-video.html">Login Bg video</a>
                          </li>
                          <li><a href="signup.html">Register Simple</a></li>
                          <li>
                            <a href="signup-image.html">Register Bg Image</a>
                          </li>
                          <li>
                            <a href="signup-video.html">Register Bg video</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div class="col mega-box">
                      <div class="link-section dashed">
                        <div>
                          <h6>Usefull Pages</h6>
                        </div>
                        <ul>
                          <li><a href="search.html">Search Website</a></li>
                          <li>
                            <a href="search-video.html">Search Video</a>
                          </li>
                          <li><a href="unlock.html">Unlock User</a></li>
                          <li>
                            <a href="forget-password.html">Forget Password</a>
                          </li>
                          <li>
                            <a href="reset-password.html">Reset Password</a>
                          </li>
                          <li><a href="maintenance.html">Maintenance</a></li>
                        </ul>
                      </div>
                    </div>
                    <div class="col mega-box">
                      <div class="link-section">
                        <div>
                          <h6>Email templates</h6>
                        </div>
                        <ul>
                          <li>
                            <a href="basic-template.html">Basic Email</a>
                          </li>
                          <li>
                            <a href="email-header.html">Basic With Header</a>
                          </li>
                          <li>
                            <a href="template-email.html">Ecomerce Template</a>
                          </li>
                          <li>
                            <a href="template-email-2.html">Email Template 2</a>
                          </li>
                          <li>
                            <a href="ecommerce-templates.html">Ecommerce Email</a>
                          </li>
                          <li>
                            <a href="email-order-success.html">Order Success</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div class="col mega-box">
                      <div class="link-section">
                        <div>
                          <h6>Coming Soon</h6>
                        </div>
                        <ul class="svg-icon">
                          <li>
                            <a href="comingsoon.html">
                              <i data-feather="file"> </i>Coming-soon</a>
                          </li>
                          <li>
                            <a href="comingsoon-bg-video.html">
                              <i data-feather="film"> </i>Coming-video</a>
                          </li>
                          <li>
                            <a href="comingsoon-bg-img.html"><i data-feather="image"> </i>Coming-Image</a>
                          </li>
                        </ul>
                        <div>
                          <h6>Other Soon</h6>
                        </div>
                        <ul class="svg-icon">
                          <li>
                            <a class="txt-primary" href="landing-page.html">
                              <i data-feather="cast"></i>Landing Page</a>
                          </li>
                          <li>
                            <a class="txt-secondary" href="sample-page.html">
                              <i data-feather="airplay"></i>Sample Page</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div class="nav-right col-8 pull-right right-menu">
          <ul class="nav-menus">
            <li class="language-nav">
              <div class="translate_wrapper" id="langIcon" style="display: none;">
                <div class="current_lang">
                  <div class="lang">
                    <i class="flag-icon flag-icon-us"></i><span class="lang-txt">EN </span>
                  </div>
                </div>
                <div class="more_lang">
                  <div class="lang selected" data-value="en">
                    <i class="flag-icon flag-icon-us"></i><span class="lang-txt">English<span> (US)</span></span>
                  </div>
                  <!-- <div class="lang" data-value="de">
                    <i class="flag-icon flag-icon-de"></i><span class="lang-txt">Deutsch</span>
                  </div>
                  <div class="lang" data-value="es">
                    <i class="flag-icon flag-icon-es"></i><span class="lang-txt">Español</span>
                  </div>
                  <div class="lang" data-value="fr">
                    <i class="flag-icon flag-icon-fr"></i><span class="lang-txt">Français</span>
                  </div>
                  <div class="lang" data-value="pt">
                    <i class="flag-icon flag-icon-pt"></i><span class="lang-txt">Português<span> (BR)</span></span>
                  </div>
                  <div class="lang" data-value="cn">
                    <i class="flag-icon flag-icon-cn"></i><span class="lang-txt">简体中文</span>
                  </div>
                  <div class="lang" data-value="ae">
                    <i class="flag-icon flag-icon-ae"></i><span class="lang-txt">لعربية <span> (ae)</span></span>
                  </div> -->
                </div>
              </div>
            </li>
            <li id="searchIcon" style="display: none;">
              <span class="header-search"><i data-feather="search"></i></span>
            </li>
            <li class="onhover-dropdown" id="notificationIcon" style="display: none;">
              <div class="notification-box">
                <i data-feather="bell"></i><span class="badge badge-pill badge-secondary" id="notifBadge"></span>
              </div>
              <ul class="notification-dropdown onhover-show-div d-block" id="notifDropdown">
                <li class="bg-primary mb-0">
                  <h6 class="f-18 mb-0">Notification</h6>
                  <p class="mb-0" id="notifMessage"></p>
                </li>
                <li id="notifContainer"></li>
                <li>
                  <a class="btn btn-primary" data-toggle="modal" data-target="#notifModal" href="javascript:void(0)"
                    onclick="displayAllNotif()">Check all notification</a>
                  <!--a.f-15.f-w-500.txt-dark(href="#") Check all notification-->
                </li>
              </ul>
            </li>
            <li id="mode" style="display: none;">
              <div class="mode"><i class="fa fa-lightbulb-o"></i></div>
            </li>
            <!-- <li class="cart-nav onhover-dropdown">
              <div class="cart-box">
                <i data-feather="shopping-cart"></i><span class="badge badge-pill badge-primary">2</span>
              </div>
              <ul class="cart-dropdown chat-dropdown onhover-show-div">
                <li class="bg-primary text-center">
                  <h6 class="f-18">Shoping cart</h6>
                  <p class="mb-0">You have 3 items in your cart</p>
                </li>
                <li class="mt-0">
                  <div class="media">
                    <img class="img-fluid rounded-circle mr-3 img-60" src="./assets/images/ecommerce/01.jpg" alt="" />
                    <div class="media-body">
                      <span>Boy's T-shirt</span>
                      <p>It is a long established fact that a reader</p>
                      <h6 class="f-12 light-font">1 x $ 299.00</h6>
                    </div>
                    <div class="close-circle">
                      <a href="#"><i data-feather="x"></i></a>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="media">
                    <img class="img-fluid rounded-circle mr-3 img-60" src="./assets/images/ecommerce/02.jpg" alt="" />
                    <div class="media-body">
                      <span>Girls's T-shirt</span>
                      <p>It is a long established fact that a reader</p>
                      <h6 class="f-12 light-font">1 x $ 199.00</h6>
                    </div>
                    <div class="close-circle">
                      <a href="#"><i data-feather="x"></i></a>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="media">
                    <img class="img-fluid rounded-circle mr-3 img-60" src="./assets/images/ecommerce/08.jpg" alt="" />
                    <div class="media-body">
                      <span>Girls's T-shirt</span>
                      <p>It is a long established fact that a reader</p>
                      <h6 class="f-12 light-font">2 x $ 199.00</h6>
                    </div>
                    <div class="close-circle">
                      <a href="#"><i data-feather="x"></i></a>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="total">
                    <h6 class="mb-0 mt-1">
                      Subtotal : <span class="f-right">$799.00</span>
                    </h6>
                  </div>
                </li>
                <li>
                  <div class="buttons">
                    <h6 class="mb-0">
                      <a class="view-cart" href="cart.html">View Cart</a><a class="checkout f-right"
                        href="#">Checkout</a>
                    </h6>
                  </div>
                </li>
              </ul>
            </li> -->
            <!-- <li class="onhover-dropdown">
              <i data-feather="message-square"></i>
              <ul class="chat-dropdown onhover-show-div">
                <li class="bg-primary text-center">
                  <h6 class="f-18 mb-0">Message Box</h6>
                  <p class="mb-0">You have 3 new messages</p>
                </li>
                <li>
                  <div class="media">
                    <img class="img-fluid rounded-circle mr-3" src="./assets/images/user/1.jpg" alt="" />
                    <div class="status-circle online"></div>
                    <div class="media-body">
                      <span>Erica Hughes</span>
                      <p>Lorem Ipsum is simply dummy...</p>
                    </div>
                    <p class="f-12 font-success">58 mins ago</p>
                  </div>
                </li>
                <li>
                  <div class="media">
                    <img class="img-fluid rounded-circle mr-3" src="./assets/images/user/2.jpg" alt="" />
                    <div class="status-circle online"></div>
                    <div class="media-body">
                      <span>Kori Thomas</span>
                      <p>Lorem Ipsum is simply dummy...</p>
                    </div>
                    <p class="f-12 font-success">1 hr ago</p>
                  </div>
                </li>
                <li>
                  <div class="media">
                    <img class="img-fluid rounded-circle mr-3" src="./assets/images/user/4.jpg" alt="" />
                    <div class="status-circle offline"></div>
                    <div class="media-body">
                      <span>Ain Chavez</span>
                      <p>Lorem Ipsum is simply dummy...</p>
                    </div>
                    <p class="f-12 font-danger">32 mins ago</p>
                  </div>
                </li>
                <li class="text-center">
                  <a class="btn btn-primary" href="#">View All </a>
                </li>
              </ul>
            </li> -->
            <li class="maximize" id="fullScreen" style="display: none;">
              <a class="text-dark" href="" onclick="javascript:toggleFullScreen()"><i data-feather="maximize"></i></a>
            </li>
            <li class="profile-nav onhover-dropdown p-0">
              <div class="media profile-media">
                <img id="picture" class="b-r-10" src="./assets/images/dashboard/profile.jpg" width="30" height="30"
                  alt="" />
                <div id="username" class="media-body">
                  <span>User</span>
                  <p class="mb-0 font-roboto">
                    Admin <i class="middle fa fa-angle-down"></i>
                  </p>
                </div>
              </div>
              <ul class="profile-dropdown onhover-show-div">
                <li><i data-feather="user"></i><span>Account </span></li>
                <li><i data-feather="mail"></i><span>Inbox</span></li>
                <li>
                  <i data-feather="file-text"></i><span>Taskboard</span>
                </li>
                <li><i data-feather="settings"></i><span>Settings</span></li>
                <li>
                  <a href="#/" id="logout"><i data-feather="log-in"> </i><span>Log Out</span></a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
        <script id="result-template" type="text/x-handlebars-template">
          <div class="ProfileCard u-cf">
              <div class="ProfileCard-avatar">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-airplay m-0"
                >
                  <path
                    d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"
                  ></path>
                  <polygon points="12 15 17 21 7 21 12 15"></polygon>
                </svg>
              </div>
              <div class="ProfileCard-details">
                <div class="ProfileCard-realName">
                  {{name}}
                </div>
              </div>
            </div>
          </script>
        <script id="empty-template" type="text/x-handlebars-template">
          <div class="EmptyMessage">
              Your search turned up 0 results. This most likely means the backend is down, yikes!
            </div>
          </script>
      </div>
    </div>
    <!-- Page Header Ends                              -->
    <!-- Page Body Start-->
    <div class="page-body-wrapper sidebar-icon">
      <!-- Page Sidebar Start-->
      <header class="main-nav">
        <div class="logo-wrapper aligncenter">
          <a href="#/"><img id="photoURL" class="img-fluid for-light" src="./assets/images/logo/logo.png" width="70%"
              height="50%" style="text-align: center" alt="" />
            <img id="photoURLDark" class="img-fluid for-dark" src="./assets/images/logo/logo2.png"
              style="text-align: center" width="70%" height="50%" alt="" /></a>
          <div class="back-btn"><i class="fa fa-angle-left"></i></div>
          <div class="toggle-sidebar">
            <i class="status_toggle middle" data-feather="grid" id="sidebar-toggle">
            </i>
          </div>
        </div>
        <div class="logo-icon-wrapper">
          <a href="index.html"><img class="img-fluid" src="./assets/images/logo/logo-icon.png" alt="" /></a>
        </div>
        <nav>
          <div class="main-navbar">
            <div class="left-arrow" id="left-arrow">
              <i data-feather="arrow-left"></i>
            </div>
            <div id="mainnav">
              <ul class="nav-menu custom-scrollbar">
                <li class="dropdown">
                  <a class="nav-link menu-title" href="#"><i data-feather="airplay"></i><span
                      class="lan-6">Widgets</span></a>
                </li>

                <li class="sidebar-title" id="dash" style="display: none;">
                  <div>
                    <!-- <h6>Dashboard</h6> -->
                    <a href="#/">Dashboard</a>
                    <p>Controls & Funtions</p>
                  </div>
                </li>

                <li id="projects" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="box"></i><span>Projects</span></a>
                  <ul class="nav-submenu menu-content">
                    <!-- <li><a href="#/projectlist">Project List</a></li> -->
                    <!-- <li><a href="#/projectcreate">Create New</a></li> -->
                    <li><a href="#/calendar">Schedule</a></li>
                    <li><a href="#/email">Email</a></li>
                  </ul>
                </li>

                <li id="projects2" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="box"></i><span>Projects</span></a>
                  <ul class="nav-submenu menu-content">
                    <!-- <li><a href="#/projectlist">Project List</a></li> -->
                    <!-- <li><a href="#/projectcreate">Create New</a></li> -->
                    <li><a href="#/calendar">Schedule</a></li>
                    <!-- <li><a href="#/email">Email</a></li> -->
                  </ul>
                </li>

                <li id="marketing" style="display: none;">
                  <a class="nav-link" href="#/marketing"><i data-feather="airplay"></i><span>Marketing</span></a>
                </li>
                <li id="sales" style="display: none;">
                  <a class="nav-link" href="#/sales"><i data-feather="shopping-bag"></i><span>Sales</span></a>
                </li>
                <li id="client" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="users"></i><span>Client</span></a>
                  <ul class="nav-submenu menu-content">
                    <li><a href="#/listClient">List</a></li>
                    <li><a href="#/newClient">New</a></li>
                  </ul>
                </li>
                <li id="leads" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="crosshair"></i><span>Leads</span></a>
                  <ul class="nav-submenu menu-content">
                    <li><a href="#/leads">List</a></li>
                    <li><a href="#/newLeads">New</a></li>
                  </ul>
                </li>

                <li id="calls" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="phone"></i><span>Calls</span></a>
                  <ul class="nav-submenu menu-content">
                    <li><a href="#/calls">Logs</a></li>
                    <li><a href="#/newCalls">Dial</a></li>
                  </ul>
                </li>

                <li id="users" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="user"></i><span>Users</span></a>
                  <ul class="nav-submenu menu-content">
                    <li><a href="#/listUsers">List</a></li>
                    <li><a href="#/newUser">New</a></li>
                  </ul>
                </li>
                <li id="users2" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="user"></i><span>Users</span></a>
                  <ul class="nav-submenu menu-content">
                    <li><a href="#/listUsers">List</a></li>
                  </ul>
                </li>

                <li id="company" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="globe"></i><span>Company</span></a>
                  <ul class="nav-submenu menu-content">
                    <li><a href="#/listCompanies">List</a></li>
                    <!-- <li><a href="#/newCompany">New</a></li> -->
                  </ul>
                </li>

                <!-- <li id="invoice"><a class="nav-link" href="#/task"><i
                                            data-feather="check-square"></i><span>Task</span></a>
                                </li> -->

                <li id="invoice" style="display: none;">
                  <a class="nav-link" href="#/invoice"><i data-feather="file-text"></i><span>Invoice</span></a>
                </li>
                <li id="reports" style="display: none;">
                  <a class="nav-link" href="#/reports"><i data-feather="edit"></i><span>Reports</span></a>
                </li>

                <li id="logs" class="dropdown" style="display: none;">
                  <a class="nav-link menu-title"><i data-feather="terminal"></i><span>Logs</span></a>
                  <ul class="nav-submenu menu-content">
                    <li><a href="#/logs">List</a></li>
                    <!-- <li><a href="#">New</a></li> -->
                  </ul>
                </li>
              </ul>
            </div>
            <!-- <div class="right-arrow" id="right-arrow"><i data-feather="arrow-right"></i></div> -->
          </div>
        </nav>
      </header>
      <!-- Page Sidebar Ends-->
      <div ng-view class="page-body"></div>
      <!-- footer start-->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6 footer-copyright">
              <p class="mb-0">Copyright 2020 © FVS All rights reserved.</p>
            </div>
            <div class="col-md-6">
              <p class="pull-right mb-0">
                Developed with <i class="fa fa-heart font-secondary"></i>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="notifModal" tabindex="-1" aria-labelledby="notifModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title ml-1" id="notifModalTitle"></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="notifClose">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="notifModalBody"></div>
        </div>
      </div>
    </div>
  </div>
  <!-- latest jquery-->
  <script src="./assets/js/jquery-3.5.1.min.js"></script>
  <!-- Bootstrap js-->
  <script src="./assets/js/bootstrap/popper.min.js"></script>
  <script src="./assets/js/bootstrap/bootstrap.js"></script>
  <!-- feather icon js-->
  <script src="./assets/js/icons/feather-icon/feather.min.js"></script>
  <script src="./assets/js/icons/feather-icon/feather-icon.js"></script>
  <!-- Sidebar jquery-->
  <script src="./assets/js/sidebar-menu.js"></script>
  <script src="./assets/js/config.js"></script>
  <!-- Plugins JS start-->
  <script src="./assets/js/chart/chartist/chartist.js"></script>
  <script src="./assets/js/chart/chartist/chartist-plugin-tooltip.js"></script>

  <!-- calendar plugins -->
  <script src="./assets/js/calendar/tui-code-snippet.min.js"></script>
  <script src="./assets/js/calendar/tui-time-picker.min.js"></script>
  <script src="./assets/js/calendar/tui-date-picker.min.js"></script>

  <script src="./assets/js/calendar/moment.min.js"></script>
  <script src="./assets/js/calendar/chance.min.js"></script>
  <script src="./assets/js/calendar/tui-calendar.js"></script>
  <script src="./assets/js/calendar/calendars.js"></script>
  <script src="./assets/js/calendar/schedules.js"></script>


  <link href="./assets/fullcalendar/fullcalendar/fullcalendar.css" rel="stylesheet" />
  <link href="./assets/fullcalendar/fullcalendar/fullcalendar.print.css" rel="stylesheet" media="print" />
  <!-- <script src="../lib/jquery.min.js"></script>
<script src="../lib/jquery-ui.custom.min.js"></script> -->
  <script src="./assets/fullcalendar/fullcalendar/fullcalendar.min.js"></script>
  <!-- calendar plugins -->

  <script src="./assets/js/chart/knob/knob.min.js"></script>
  <script src="./assets/js/chart/knob/knob-chart.js"></script>
  <script src="./assets/js/chart/apex-chart/apex-chart.js"></script>
  <script src="./assets/js/chart/apex-chart/stock-prices.js"></script>
  <script src="./assets/js/notify/bootstrap-notify.min.js"></script>

  <script src="./assets/js/datepicker/date-picker/datepicker.js"></script>
  <script src="./assets/js/datepicker/date-picker/datepicker.en.js"></script>
  <script src="./assets/js/datepicker/date-picker/datepicker.custom.js"></script>
  <script src="./assets/js/typeahead/handlebars.js"></script>
  <script src="./assets/js/typeahead/typeahead.bundle.js"></script>
  <script src="./assets/js/typeahead/typeahead.custom.js"></script>
  <script src="./assets/js/typeahead-search/handlebars.js"></script>
  <script src="./assets/js/typeahead-search/typeahead-custom.js"></script>
  <script src="./assets/js/tooltip-init.js"></script>

  <!-- Plugins JS Ends-->
  <!-- Theme js-->
  <script src="./assets/js/script.js"></script>
  <script src="./assets/js/theme-customizer/customizer.js"></script>
  <!-- login js-->
  <!-- Plugin used-->

  <!--AngulasJS-->
  <script src="./assets/AngularJS/angular.js"></script>
  <script src="./assets/AngularJS/angular-route.js"></script>
  <script src="./assets/jquery.tabletojson.min.js"></script>

  <script src="app.js"></script>
  <script src="./controller/CalendarCtrl.js"></script>
  <script src="./controller/DashboardCtrl.js"></script>
  <script src="./controller/ProjectListCtrl.js"></script>
  <script src="./controller/ProjectCreateCtrl.js"></script>
  <script src="./controller/ListClientCtrl.js"></script>
  <script src="./controller/NewClientCtrl.js"></script>
  <script src="./controller/LeadsCtrl.js"></script>
  <script src="./controller/NewLeadsCtrl.js"></script>
  <script src="./controller/CallCtrl.js"></script>
  <script src="./controller/NewCallsCtrl.js"></script>
  <script src="./controller/ListUserCtrl.js"></script>
  <script src="./controller/ListComCtrl.js"></script>
  <script src="./controller/NewUsersCtrl.js"></script>
  <script src="./controller/LogsCtrl.js"></script>
  <script src="./controller/MarketingCtrl.js"></script>
  <script src="./controller/SalesCtrl.js"></script>
  <script src="./controller/InvoiceCtrl.js"></script>
  <script src="./controller/TaskCtrl.js"></script>
  <script src="./controller/emailCtrl.js"></script>
  <script src="./controller/ReportsCtrl.js"></script>

  <!-- must be below AngularJS imports -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
    integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
    crossorigin="anonymous"></script>

  <script>
    var notifications = [];
    var unreadNotif = [];
    var sortedNotif = [];
    var newNotif = [];
    var comid = sessionStorage.getItem("comid");
    var settings = {
      url: "https://iqq7nfcdw5.execute-api.us-east-1.amazonaws.com/fvs/allnotifications",
      method: "GET",
      timeout: 0,
    };

    $(document).ready(async () => {
      await $.ajax(settings)
        .done((response) => {
          var count = response.Count;
          // console.log(response.Items);
          for (let i = 0; i < count; i++) {
            const res = response.Items[i];
            var notif = {
              cLocation: res.cLocation.S,
              cPhoto: res.cPhoto.L,
              cRemarks: res.cRemarks.S,
              color: res.color.S,
              comid: res.comid.S,
              createdAt: res.createdAt.S,
              employeeEmail: res.employeeEmail.S,
              employeeName: res.employeeName.S,
              hr: res.hr.S,
              id: res.id.S,
              mins: res.mins.S,
              secs: res.secs.S,
              task: res.task.L,
              title: res.title.S,
              unread: res.unread.S,
            };
            notifications.push(notif);
          }
        })
        .fail((err) => {
          console.log(err);
          console.log("Network problem.");
        });

      unreadNotif = notifications
        .filter((notif) => notif.unread != "true" && notif.comid == comid)
        .sort((a, b) => {
          let fa = parseInt(a.createdAt, 10),
            fb = parseInt(b.createdAt, 10);

          return fb - fa;
        });

      // console.log(unreadNotif);

      sortedNotif = notifications
        .filter((notif) => notif.comid == comid)
        .sort((a, b) => {
          let fa = parseInt(a.createdAt, 10),
            fb = parseInt(b.createdAt, 10);

          return fb - fa;
        });

      newNotif = notifications.filter((notif) => {
        var now = Date.now() - 86400000;
        return parseInt(notif.createdAt, 10) > now;
      });

      // console.log(newNotif);

      if (unreadNotif.length == 0) {
        $("#notifBadge").text("");
      } else {
        $("#notifBadge").text(unreadNotif.length);
      }

      $("#notifMessage").text(
        `You have ${unreadNotif.length} unread notifications`
      );

      var len = 0;
      if (unreadNotif.length > 5) {
        len = 5;
      } else {
        len = unreadNotif.length;
      }

      for (let k = 0; k < len; k++) {
        const notif = unreadNotif[k];
        var time = parseInt(notif.createdAt, 10);
        var elapsed = moment(time).fromNow();
        var unreadStat = "";
        if (notif.unread == "false") {
          unreadStat = "fa fa-circle-o font-primary";
        } else {
          unreadStat = "fa fa-circle font-primary";
        }
        $("#notifContainer").append(`<div
                      onclick="displayNotification('${notif.id}')"
                      data-toggle="modal"
                      data-target="#notifModal"
                      class="notif"
                    >
                      <p class="mb-0 d-flex align-items-center justify-content-between">
                        <span style="display: inline-block; width: 150px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                        <i class="${unreadStat} mr-3" > </i>
                        ${notif.title}</span>
                        <span class="pull-right">${elapsed}</span>
                      </p>
                    </div>`);
      }
    });

    setInterval(async () => {
      await $.ajax(settings)
        .done((response) => {
          var count = response.Count;
          // console.log(response.Items);
          $("#notifContainer .notif").remove();
          notifications = [];
          for (let i = 0; i < count; i++) {
            const res = response.Items[i];
            var notif = {
              cLocation: res.cLocation.S,
              cPhoto: res.cPhoto.L,
              cRemarks: res.cRemarks.S,
              color: res.color.S,
              comid: res.comid.S,
              createdAt: res.createdAt.S,
              employeeEmail: res.employeeEmail.S,
              employeeName: res.employeeName.S,
              hr: res.hr.S,
              id: res.id.S,
              mins: res.mins.S,
              secs: res.secs.S,
              task: res.task.L,
              title: res.title.S,
              unread: res.unread.S,
            };
            notifications.push(notif);
          }
        })
        .fail((err) => {
          console.log(err);
        });

      unreadNotif = notifications
        .filter((notif) => notif.unread != "true" && notif.comid == comid)
        .sort((a, b) => {
          let fa = parseInt(a.createdAt, 10),
            fb = parseInt(b.createdAt, 10);

          return fb - fa;
        });

      sortedNotif = notifications
        .filter((notif) => notif.comid == comid)
        .sort((a, b) => {
          let fa = parseInt(a.createdAt, 10),
            fb = parseInt(b.createdAt, 10);

          return fb - fa;
        });

      newNotif = notifications.filter((notif) => {
        var now = Date.now() - 86400000;
        return parseInt(notif.createdAt, 10) > now;
      });

      // console.log(notifications);

      if (unreadNotif.length == 0) {
        $("#notifBadge").text("");
      } else {
        $("#notifBadge").text(unreadNotif.length);
      }

      $("#notifMessage").text(
        `You have ${unreadNotif.length} unread notifications`
      );

      var len = 0;
      if (unreadNotif.length >= 5) {
        len = 5;
      } else {
        len = unreadNotif.length;
      }

      for (let k = 0; k < len; k++) {
        const notif = unreadNotif[k];
        var time = parseInt(notif.createdAt, 10);
        var elapsed = moment(time).fromNow();
        var unreadStat = "";
        if (notif.unread == "false") {
          unreadStat = "fa fa-circle-o font-primary";
        } else {
          unreadStat = "fa fa-circle font-primary";
        }
        $("#notifContainer").append(`<div
                      onclick="displayNotification('${notif.id}')"
                      data-toggle="modal"
                      data-target="#notifModal"
                      class="notif"
                    >
                      <p class="mb-0 d-flex align-items-center justify-content-between">
                        <span style="display: inline-block; width: 150px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                        <i class="${unreadStat} mr-3" > </i>
                        ${notif.title}</span>
                        <span class="pull-right">${elapsed}</span>
                      </p>
                    </div>`);
      }
    }, 300000);

    function displayNotification(id) {
      const notif = notifications.filter((notif) => notif.id == id);
      $("#notifModalTitle").text(notif[0].title);
      var img = notif[0].cPhoto;
      var task = notif[0].task;
      var time = parseInt(notif[0].createdAt, 10);
      var elapsed = moment(time).fromNow();
      var toAppend = `<div class="p-2 rounded border border-dark e-notif">
                <div class="d-flex">
                  Reminder:
                  <p class="mb-0 ml-2 text-break">
                    <span class="font-weight-bold text-primary"
                      >${notif[0].employeeName}</span
                    >
                    completed
                    <span class="font-weight-bold text-primary">${task.length} tasks</span>
                    and uploaded
                    <span class="font-weight-bold text-primary">${img.length} images</span>
                    @
                    <span
                      class="text-break"
                      >${notif[0].cLocation}</span
                    >
                  </p>
                </div>
                <div class="d-flex">
                  Remarks:
                  <p class="mb-0 ml-2">${notif[0].cRemarks}</p>
                </div>
                <span class="d-block text-right" style="font-size: x-small"
                  >${elapsed}</span
                >
              </div>`;

      $("#notifModalBody").append(toAppend);

      var cPhoto = img.map((img) => {
        return {
          file: img.M.file.S,
        };
      });

      var tasks = task.map((task) => {
        return {
          number: task.M.number.S,
          status: task.M.status.S,
          taskItem: task.M.taskItem.S,
        };
      });

      var notifUpdate = JSON.stringify({
        cLocation: notif[0].cLocation,
        cPhoto: cPhoto,
        cRemarks: notif[0].cRemarks,
        color: notif[0].color,
        comid: notif[0].comid,
        createdAt: notif[0].createdAt,
        employeeEmail: notif[0].employeeEmail,
        employeeName: notif[0].employeeName,
        hr: notif[0].hr,
        id: notif[0].id,
        mins: notif[0].mins,
        secs: notif[0].secs,
        task: tasks,
        title: notif[0].title,
        unread: "true",
      });

      // console.log(notifUpdate);

      $.ajax({
        type: "PUT",
        dataType: "json",
        url: `https://iqq7nfcdw5.execute-api.us-east-1.amazonaws.com/fvs/notifications/${id}`,
        data: notifUpdate,
        headers: {
          "Content-Type": "application/json",
        },
        success: async function (data) {
          console.log(data);
          console.log("Notification updated!");
          await $.ajax(settings)
            .done((response) => {
              var count = response.Count;
              // console.log(response.Items);
              $("#notifContainer .notif").remove();
              notifications = [];
              for (let i = 0; i < count; i++) {
                const res = response.Items[i];
                var notif = {
                  cLocation: res.cLocation.S,
                  cPhoto: res.cPhoto.L,
                  cRemarks: res.cRemarks.S,
                  color: res.color.S,
                  comid: res.comid.S,
                  createdAt: res.createdAt.S,
                  employeeEmail: res.employeeEmail.S,
                  employeeName: res.employeeName.S,
                  hr: res.hr.S,
                  id: res.id.S,
                  mins: res.mins.S,
                  secs: res.secs.S,
                  task: res.task.L,
                  title: res.title.S,
                  unread: res.unread.S,
                };
                notifications.push(notif);
              }
            })
            .fail((err) => {
              console.log(err);
            });

          unreadNotif = notifications
            .filter((notif) => notif.unread != "true" && notif.comid == comid)
            .sort((a, b) => {
              let fa = parseInt(a.createdAt, 10),
                fb = parseInt(b.createdAt, 10);

              return fb - fa;
            });

          sortedNotif = notifications
            .filter((notif) => notif.comid == comid)
            .sort((a, b) => {
              let fa = parseInt(a.createdAt, 10),
                fb = parseInt(b.createdAt, 10);

              return fb - fa;
            });

          newNotif = notifications.filter((notif) => {
            var now = Date.now() - 86400000;
            return parseInt(notif.createdAt, 10) > now;
          });

          // console.log(notifications);

          if (unreadNotif.length == 0) {
            $("#notifBadge").text("");
          } else {
            $("#notifBadge").text(unreadNotif.length);
          }

          $("#notifMessage").text(
            `You have ${unreadNotif.length} unread notifications`
          );

          var len = 0;
          if (unreadNotif.length >= 5) {
            len = 5;
          } else {
            len = unreadNotif.length;
          }

          for (let k = 0; k < len; k++) {
            const notif = unreadNotif[k];
            var time = parseInt(notif.createdAt, 10);
            var elapsed = moment(time).fromNow();
            var unreadStat = "";
            if (notif.unread == "false") {
              unreadStat = "fa fa-circle-o font-primary";
            } else {
              unreadStat = "fa fa-circle font-primary";
            }
            $("#notifContainer").append(`<div
                      onclick="displayNotification('${notif.id}')"
                      data-toggle="modal"
                      data-target="#notifModal"
                      class="notif"
                    >
                      <p class="mb-0 d-flex align-items-center justify-content-between">
                        <span style="display: inline-block; width: 150px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                        <i class="${unreadStat} mr-3" > </i>
                        ${notif.title}</span>
                        <span class="pull-right">${elapsed}</span>
                      </p>
                    </div>`);
          }
        },
        error: function (response) {
          console.log(response);
          console.log("Error");
        },
      });
    }

    function displayAllNotif() {
      $("#notifModalTitle").text("All Notifications");
      var len = 0;
      if (sortedNotif.length >= 10) {
        len = 10;
      } else {
        len = sortedNotif.length;
      }
      for (let i = 0; i < len; i++) {
        const notif = sortedNotif[i];
        var img = notif.cPhoto;
        var task = notif.task;
        var time = parseInt(notif.createdAt, 10);
        var elapsed = moment(time).fromNow();
        var toAppend = `<div class="p-2 mb-1 rounded border border-dark e-notif">
                <div class="d-flex">Title: <span class="mb-0 ml-2 w-100 text-left">${notif.title}</span></div>
                <div class="d-flex">
                  Reminder:
                  <p class="mb-0 ml-2 w-100 text-break">
                    <span class="font-weight-bold text-primary"
                      >${notif.employeeName}</span
                    >
                    completed
                    <span class="font-weight-bold text-primary">${task.length} tasks</span>
                    and uploaded
                    <span class="font-weight-bold text-primary">${img.length} images</span>
                    @
                    <span
                      class="text-break"
                      >${notif.cLocation}</span
                    >
                  </p>
                </div>
                <div class="d-flex">
                  Remarks:
                  <p class="mb-0 ml-2 w-100 text-left">${notif.cRemarks}</p>
                </div>
                <span class="d-block text-right" style="font-size: x-small"
                  >${elapsed}</span
                >
              </div>`;

        $("#notifModalBody").append(toAppend);
      }
    }

    $("#notifClose").click(function () {
      $("#notifModalTitle").text("");
      $("#notifModalBody .e-notif").remove();
    });
  </script>

  <script>
    // var user = sessionStorage.getItem("user");

    // var settings = {
    // "url": "https://pq38i6wtd4.execute-api.ap-southeast-1.amazonaws.com/verkoapi/users/" + user,
    // "method": "GET",
    // "timeout": 0,
    // };
    // $.ajax(settings).done(function (response) {
    // // var user = response.username;
    // document.getElementById("username").innerHTML = user;
    // });

    let state = sessionStorage.getItem("state");
    let role = sessionStorage.getItem("role");
    let isAdmin = false;
    var logo = sessionStorage.getItem("comPhoto");
    var picture = sessionStorage.getItem("picture");
    var fullname = localStorage.getItem("fullname");

    if (state == 1) {
      if (picture) {
        document.getElementById("picture").src = picture;
      }
      if (logo) {
        document.getElementById("photoURL").src = logo;
        document.getElementById("photoURLDark").src = logo;
      }
      document.getElementById("username").innerHTML = fullname;
      if (role == 0) {
        $("#dash").show();
        $("#projects").show();
        $("#notificationIcon").show();
        $("#mode").show();
        $("#fullScreen").show();
        $("#searchIcon").show();
        $("#langIcon").show();
        // $("#marketing").show();
        // $("#sales").show();
        $("#client").show();
        $("#leads").show();
        // $("#calls").show();
        $("#users").show();
        $("#company").show();
        // $("#invoice").show();
        // $("#reports").show();
        // $("#logs").show();
        // document.getElementById("photoURL").src = logo;
        // $("#ai").show();
        // $("#logs").hide();
      } else if (role == 1) {
        $("#dash").show();
        $("#projects").show();
        $("#notificationIcon").show();
        $("#mode").show();
        $("#fullScreen").show();
        $("#searchIcon").show();
        $("#langIcon").show();
        // $("#marketing").show();
        // $("#sales").show();
        $("#client").show();
        $("#leads").show();
        // $("#calls").show();
        $("#users").show();
        $("#company").show();
        // $("#invoice").show();
        // $("#reports").show();
        // $("#logs").show();
        // document.getElementById("photoURL").src = logo;
        // $("#ai").show();
        // $("#logs").hide();
      } else if (role == 2) {
        // document.getElementById("photoURL").src = logo;
        $("#mode").show();
        $("#fullScreen").show();
        $("#dash").show();
        $("#projects2").show();
        // $("#client").show();
        // $("#calls").show();
        $("#users2").show();
        // $("#invoice").show();
      }
    } else {
      window.location.href = "./login.html";
    }
    // console.log(isAdmin);

    $("#logout").click(function () {
      console.log("Logged out!");
      var today = new Date();
      var date =
        today.getFullYear() +
        "-" +
        (today.getMonth() + 1) +
        "-" +
        today.getDate();
      var time =
        today.getHours() +
        ":" +
        today.getMinutes() +
        ":" +
        today.getSeconds();
      var dateTime = date + " " + time;
      var comid = sessionStorage.getItem("comid");
      var role = sessionStorage.getItem("role");
      var userID = sessionStorage.getItem("user");
      var finalRole;

      if (role == 0) {
        finalRole = "super";
      } else if (role == 1) {
        finalRole = "admin";
      } else if (role == 2) {
        finalRole = "ordinary";
      }
      var myData = JSON.stringify({
        //     // "count": "13",
        //     // "domain": "www.done.com"
        action: "Logout",
        comid: comid,
        datetime: dateTime,
        module: "Auth",
        role: finalRole,
        userid: userID,

        // "password": Base64.encode(pwd.value),
        // "role": ""
      });

      // console.log(myData2);

      $.ajax({
        type: "POST",
        dataType: "json",
        // url: "https://pq38i6wtd4.execute-api.ap-southeast-1.amazonaws.com/verkoapi/adcounts/{domain}",
        url: "https://iqq7nfcdw5.execute-api.us-east-1.amazonaws.com/fvs/t-logs/{id}",
        data: myData,
        headers: {
          "Content-Type": "application/json",
        },
        success: function (data) {
          console.log("T-Log");
          sessionStorage.clear();
          localStorage.removeItem("fullname");
          localStorage.removeItem("user");
          localStorage.removeItem("req");
          localStorage.removeItem("logo");
          localStorage.removeItem("picture");
          localStorage.removeItem("comid");
          // window.location.href = './index.html';

          window.location.href = "./index.html";
        },
        error: function (response) {
          console.log(response);
          console.log("Error");
        },
      });
    });

    function signout() {
      localStorage.removeItem("fullname");
      localStorage.removeItem("user");
      localStorage.removeItem("req");
      localStorage.removeItem("logo");
      localStorage.removeItem("picture");
      localStorage.removeItem("comid");
      sessionStorage.clear();
      localStorage.clear();
      // window.localStorage.removeItem("req");
      // window.localStorage.removeItem("user");
      console.log("Logged out!");
      window.location.href = "./index.html";
      // firebase.auth().signOut().then(function() {
      //     console.log("Logged out!");
      //     window.location.href = './index.html';
      // }, function(error) {
      //     console.log(error.code);
      //     console.log(error.message);
      // });
    }
  </script>
</body>

</html>